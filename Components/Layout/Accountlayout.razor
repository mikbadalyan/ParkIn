@inherits LayoutComponentBase
@inject NavigationManager NavigationManager


<div class="main-layout">
    <header>
        <div class="logo">
            <a href="/">
                <img src="parkin_white.png" alt="Logo" />
            </a>
        </div>
        <div class="header-links">
            <a href="/">Home</a>
            <a href="/faq">FAQ</a>
            <div class="account-dropdown">
                <img src="avatar.jpg" alt="Account" class="account-image" />
                <div class="dropdown-content">
                    <a href="@GetAccountUrl()">
                        <img src="userk.png" alt="Account" class="dropdown-icon" /> Account
                    </a>
                    <a href="/settings">
                        <img src="settings.png" alt="Settings" class="dropdown-icon" /> Settings
                    </a>
                    <a href="/" id="logout-link">
                        <img src="logout (1).png" alt="Log out" class="dropdown-icon" /> Log out
                    </a>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="signup-container">
            @Body
        </div>
    </main>
</div>

@code {
    [Parameter]
    public string? Token { get; set; }

    private string GetAccountUrl()
    {
        return string.IsNullOrEmpty(Token) ? "/account" : $"/account/{Token}";
    }

    private void Logout()
    {
        // Perform any necessary logout operations here
        NavigationManager.NavigateTo("/", true);
    }

    private void NavigateToReservation()
    {
        NavigationManager.NavigateTo($"/reservation/{Token}");
    }

   
}

<script>
    

    function logout() {
        // Clear the browser history to prevent going back to the account page
        window.location.replace('/');
    }

</script>
